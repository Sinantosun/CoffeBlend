@model List<ResultPrdouctWithCategory>
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/UILayout/Index.cshtml";
    List<string> displayedItems = new List<string>();

}

<section class="ftco-section">
    <div class="container">
        <div class="row">
            @foreach (var item in Model)
            {
                @if (!displayedItems.Contains(item.Title))
                {
                    <div class="col-md-6 mb-5 pb-3">
                        <h3 class="mb-5 heading-pricing ftco-animate">@item.category.Name</h3>
                        @foreach (var item2 in Model.Where(t => t.category.CategoryId == item.category.CategoryId))
                        {
                            <div class="pricing-entry d-flex ftco-animate">
                                <div class="img" style="background-image: url(@item2.ImageURL);"></div>
                                <div class="desc pl-3">
                                    <div class="d-flex text align-items-center">
                                        <h3><span>@item2.Title</span></h3>
                                        <span class="price">@item2.Price ₺</span>
                                    </div>
                                    <div class="d-block">
                                        <p>@item2.ShortDescription</p>
                                    </div>
                                </div>
                            </div>
                            displayedItems.Add(item2.Title);
                        }
                    </div>
                }
            }
        </div>
    </div>
</section>
